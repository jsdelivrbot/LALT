/*! jaygrid.js v1.4 | MIT License | git.io/mlMPmA | Paul Browne */
!function(a){var b,c,d,e,f,g,h;a.jaygrid=function(i){function k(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}}function l(a,f,g){return b=new RegExp(f+"-"+g+"-\\d+-\\d+","g"),c=a.attr("class").match(b)[0].split("-"),d=parseInt(c.slice(2,3)),e=parseInt(c.slice(3,4)),[d,e]}function m(a,b){return onresize=function(){clearTimeout(b),b=setTimeout(a,125)},a}var j=a.extend({margin:4,mobile_tablet:656,tablet_desktop:1024},i);m(function(){function i(b){var c=[];return a.each(b,function(){if(a(this).is("[class*='d-col-']")&&!a(this).is("[class*='d-center']")&&!a(this).is("[class*='d-left-']")&&!a(this).is("[class*='d-right-']")){a(this).is("[class*='d-offset-']")||(l(a(this),"d","col"),c.push(d/e)),a(this).is("[class*='d-offset-']")&&(l(a(this),"d","col"),c.push(d/e),l(a(this),"d","offset"),c.push(d/e));for(var b=0,f=0;b<c.length;f+=c[b++]);1==c.length&&a(this).addClass("d-first"),f>.99&&1.01>f&&(c.splice(0,c.length),a(this).addClass("d-last"))}}),c}function n(b){var c=[];return a.each(b,function(){if(a(this).is("[class*='m-col-']")&&!a(this).is("[class*='m-center']")&&!a(this).is("[class*='m-left-']")&&!a(this).is("[class*='m-right-']")){a(this).is("[class*='m-offset-']")||(l(a(this),"m","col"),c.push(d/e)),a(this).is("[class*='m-offset-']")&&(l(a(this),"m","col"),c.push(d/e),l(a(this),"m","offset"),c.push(d/e));for(var b=0,f=0;b<c.length;f+=c[b++]);1==c.length&&a(this).addClass("m-first"),f>.99&&1.01>f&&(c.splice(0,c.length),a(this).addClass("m-last"))}}),c}function p(b){var c=[];return a.each(b,function(){if(a(this).is("[class*='t-col-']")&&!a(this).is("[class*='t-center']")&&!a(this).is("[class*='t-left-']")&&!a(this).is("[class*='t-right-']")){a(this).is("[class*='t-offset-']")||(l(a(this),"t","col"),c.push(d/e)),a(this).is("[class*='t-offset-']")&&(l(a(this),"t","col"),c.push(d/e),l(a(this),"t","offset"),c.push(d/e));for(var b=0,f=0;b<c.length;f+=c[b++]);1==c.length&&a(this).addClass("t-first"),f>.99&&1.01>f&&(c.splice(0,c.length),a(this).addClass("t-last"))}}),c}if(a("[class*='-first']").each(function(){a(this).parent().hasClass("clearfix")&&a(this).unwrap()}),a("[class*='-col-']").each(function(){a(this).css({display:"block",position:"relative","float":"none",width:"100%","max-width":"100%","margin-left":0,"margin-right":0,"min-height":1})}),k().width>=j.tablet_desktop){for(var b=a("body"),c=[];b.length;)c=a.merge(c,i(b)),b=b.children();a("[class*='d-col-']").each(function(){f=l(a(this),"d","col"),g=(j.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":j.margin+"%","float":"left"}),a(this).hasClass("d-center")&&a(this).css({"margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",g)}),a("[class*='d-offset-']").each(function(){h=l(a(this),"d","offset"),g=a(this).hasClass("d-first")?h[0]*(j.margin+100)/h[1]:(j.margin*(h[0]+h[1])+100*h[0])/h[1],a(this).css({"margin-left":g+"%"})}),a("[class*='d-left-']").each(function(){h=l(a(this),"d","left"),g=100*(h[0]*(j.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-left":-g+"%","margin-right":j.margin+"%"})}),a("[class*='d-right-']").each(function(){h=l(a(this),"d","right"),g=100*(h[0]*(j.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-right":-g+"%","margin-left":j.margin+"%","float":"right"})}),a(".d-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".d-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".d-hide").each(function(){a(this).css({display:"none"})})}if(k().width<j.mobile_tablet){for(var b=a("body"),m=[];b.length;)m=a.merge(m,n(b)),b=b.children();a("[class*='m-col-']").each(function(){f=l(a(this),"m","col"),g=(j.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":j.margin+"%","float":"left"}),a(this).hasClass("m-center")&&a(this).css({"margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",g)}),a("[class*='m-offset-']").each(function(){h=l(a(this),"m","offset"),g=a(this).hasClass("m-first")?h[0]*(j.margin+100)/h[1]:(j.margin*(h[0]+h[1])+100*h[0])/h[1],a(this).css({"margin-left":g+"%"})}),a("[class*='m-left-']").each(function(){h=l(a(this),"m","left"),g=100*(h[0]*(j.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-left":-g+"%","margin-right":j.margin+"%"})}),a("[class*='m-right-']").each(function(){h=l(a(this),"m","right"),g=100*(h[0]*(j.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-right":-g+"%","margin-left":j.margin+"%","float":"right"})}),a(".m-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".m-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".m-hide").each(function(){a(this).css({display:"none"})})}if(k().width<j.tablet_desktop&&k().width>=j.mobile_tablet){for(var b=a("body"),o=[];b.length;)o=a.merge(o,p(b)),b=b.children();a("[class*='t-col-']").each(function(){f=l(a(this),"t","col"),g=(j.margin*(f[0]-f[1])+100*f[0])/f[1],a(this).css({width:g+"%","max-width":g+"%","margin-left":j.margin+"%","float":"left"}),a(this).hasClass("t-center")&&a(this).css({"margin-left":"auto","margin-right":"auto","float":"none"}),a(this).data("w",g)}),a("[class*='t-offset-']").each(function(){h=l(a(this),"t","offset"),g=a(this).hasClass("t-first")?h[0]*(j.margin+100)/h[1]:(j.margin*(h[0]+h[1])+100*h[0])/h[1],a(this).css({"margin-left":g+"%"})}),a("[class*='t-left-']").each(function(){h=l(a(this),"t","left"),g=100*(h[0]*(j.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-left":-g+"%","margin-right":j.margin+"%"})}),a("[class*='t-right-']").each(function(){h=l(a(this),"t","right"),g=100*(h[0]*(j.margin+100)/h[1]/a(this).parent().data("w")),a(this).css({"margin-right":-g+"%","margin-left":j.margin+"%","float":"right"})}),a(".t-first").each(function(){a(this).css({"margin-left":0}),a(this).nextUntil(".t-last").addBack().next().addBack().wrapAll("<div class='clearfix'/>")}),a(".t-hide").each(function(){a(this).css({display:"none"})})}})()}}(jQuery);
